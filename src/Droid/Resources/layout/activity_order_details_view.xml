<?xml version="1.0" encoding="utf-8"?>
<RelativeLayout
	xmlns:android="http://schemas.android.com/apk/res/android"
	xmlns:app="http://schemas.android.com/apk/res-auto"
	android:layout_width="match_parent"
	android:layout_height="match_parent">

	<include
		android:id="@+id/action_bar"
		layout="@layout/action_bar_title"
		android:layout_width="match_parent"
		android:layout_height="wrap_content" />

	<mvvmcross.droidx.MvxSwipeRefreshLayout
		android:layout_width="match_parent"
		android:layout_height="wrap_content"
		android:layout_below="@+id/action_bar"
		android:background="@color/applicationWhite"
		app:MvxBind="Refreshing IsBusy, Mode = OneWay; RefreshCommand LoadOrderDetailsCommand">

		<ScrollView
			android:layout_width="match_parent"
			android:layout_height="wrap_content">

			<LinearLayout
				android:layout_width="match_parent"
				android:layout_height="wrap_content"
				android:orientation="vertical"
				android:paddingLeft="32dp"
				android:paddingRight="32dp">

				<CircleCachedImageView
					android:id="@+id/user_photo"
					android:layout_width="85dp"
					android:layout_height="85dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="16dp"
					app:MvxBind="ImagePath CustomerSectionViewModel.ProfilePhotoUrl, Mode = OneWay; PlaceholderText CustomerSectionViewModel.ProfileShortName, Mode = OneWay; Click CustomerSectionViewModel.OpenCustomerProfileCommand" />

				<TextView
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="8dp"
					android:gravity="center_horizontal"
					android:textColor="@color/applicationBlack"
					android:textSize="14dp"
					app:MvxBind="Text CustomerSectionViewModel.ProfileName"/>

				<TextView
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="26dp"
					android:gravity="left|center_vertical"
					android:textColor="@color/applicationBlack"
					android:textSize="14dp"
					android:textStyle="bold"
					app:MvxBind="Text OrderTitle"/>

				<LinearLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:orientation="horizontal"
					android:layout_marginTop="16dp">
					<View
						android:layout_width="3dp"
						android:layout_height="match_parent"
						android:background="@color/accent"
						android:layout_marginRight="16dp"
						app:MvxBind="Visibility Visibility(IsHiddenOrder)"/>
					<TextView
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:gravity="left|center_vertical"
						android:textColor="@color/applicationBlack"
						android:textSize="14dp"
						app:MvxBind="Text OrderDescription"/>
				</LinearLayout>

				<TextView
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="26dp"
					android:gravity="center_horizontal"
					android:textColor="@color/inactive"
					android:textSize="12dp"
					android:text="@string/OrderDetailsView_Price_Text" />

				<TextView
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="16dp"
					android:gravity="center_horizontal"
					android:textColor="@color/inactive"
					android:textSize="26dp"
					app:MvxBind="Text PriceValue"/>

				<TextView
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="26dp"
					android:gravity="center_horizontal"
					android:textColor="@color/inactive"
					android:textSize="12dp"
					android:text="@string/OrderDetailsView_Time_Text"
					app:MvxBind="Visibility Visibility(IsTimeAvailable)"/>

				<LinearLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="16dp"
					android:gravity="center_horizontal"
					android:orientation="horizontal"
					app:MvxBind="Visibility Visibility(IsTimeAvailable)">

					<LinearLayout
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:orientation="vertical">

						<TextView
							android:id="@+id/time_days_text_view"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_gravity="center_horizontal"
							android:textColor="@color/inactive"
							android:textSize="26dp"
							app:MvxBind="Text TimeDaysValue"/>

						<TextView
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_gravity="center_horizontal"
							android:layout_marginLeft="5dp"
							android:layout_marginRight="5dp"
							android:textColor="@color/inactive"
							android:textSize="12dp"
							android:text="@string/Order_View_Day"/>

					</LinearLayout>

					<TextView
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_marginLeft="1dp"
						android:layout_marginRight="4dp"
						android:layout_marginTop="-1dp"
						android:textColor="@color/inactive"
						android:textSize="26dp"
						android:text=":"/>

					<LinearLayout
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:orientation="vertical">

						<TextView
							android:id="@+id/time_hours_text_view"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_gravity="center_horizontal"
							android:textColor="@color/inactive"
							android:textSize="26dp"
							app:MvxBind="Text TimeHourValue"/>

						<TextView
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_gravity="center_horizontal"
							android:layout_marginLeft="5dp"
							android:layout_marginRight="5dp"
							android:textColor="@color/inactive"
							android:textSize="12dp"
							android:text="@string/Order_View_Hour"/>

					</LinearLayout>

					<TextView
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_marginLeft="4dp"
						android:layout_marginRight="1dp"
						android:layout_marginTop="-1dp"
						android:textColor="@color/inactive"
						android:textSize="26dp"
						android:text=":"/>

					<LinearLayout
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:orientation="vertical">

						<TextView
							android:id="@+id/time_minutes_text_view"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_gravity="center_horizontal"
							android:textColor="@color/inactive"
							android:textSize="26dp"
							app:MvxBind="Text TimeMinutesValue"/>

						<TextView
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_gravity="center_horizontal"
							android:layout_marginLeft="5dp"
							android:layout_marginRight="5dp"
							android:textColor="@color/inactive"
							android:textSize="12dp"
							android:textAlignment="center"
							android:text="@string/Order_View_Minute"/>

					</LinearLayout>
				</LinearLayout>

				<com.google.android.material.button.MaterialButton
					style="@style/Theme.PrankChat.Button.Accent"
					android:layout_width="wrap_content"
					android:layout_height="36dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="26dp"
					android:text="@string/OrderDetailsView_Take_Order_Button"
					app:MvxBind="Click TakeOrderCommand; Visibility Visibility(IsTakeOrderAvailable)" />

				<com.google.android.material.button.MaterialButton
					style="@style/Theme.PrankChat.Button.Accent"
					android:layout_width="wrap_content"
					android:layout_height="36dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="26dp"
					android:text="@string/OrderDetailsView_Subscribe_Button"
					app:MvxBind="Click SubscribeOrderCommand; Visibility Visibility(IsSubscribeAvailable)" />

				<com.google.android.material.button.MaterialButton
					style="@style/Theme.PrankChat.Button.Accent"
					android:layout_width="wrap_content"
					android:layout_height="36dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="26dp"
					android:text="@string/OrderDetailsView_Unsubscribe_Button"
					app:MvxBind="Click UnsubscribeOrderCommand; Visibility Visibility(IsUnsubscribeAvailable)" />
				<LinearLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="26dp"
					android:orientation="vertical"
					app:MvxBind="Visibility Visibility(VideoSectionViewModel.IsVideoLoadAvailable)">

					<TextView
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:gravity="center_horizontal"
						android:textColor="@color/inactive"
						android:textSize="12dp"
						android:text="@string/OrderDetailsView_Download_Text"/>

					<com.google.android.material.button.MaterialButton
						style="@style/Theme.PrankChat.Button.Accent"
						android:layout_width="wrap_content"
						android:layout_height="36dp"
						android:layout_gravity="center_horizontal"
						android:layout_marginTop="14.5dp"
						android:text="@string/OrderDetailsView_LoadVideo"
						app:MvxBind="Click VideoSectionViewModel.LoadVideoCommand" />
				</LinearLayout>

				<com.google.android.material.button.MaterialButton
					style="@style/Theme.PrankChat.Button.Accent"
					android:layout_width="wrap_content"
					android:layout_height="36dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="26dp"
					android:text="@string/OrderDetailsView_Execute_Button"
					app:MvxBind="Click ExecuteOrderCommand; Visibility Visibility(IsExecuteOrderAvailable)" />

				<com.google.android.material.button.MaterialButton
					style="@style/Theme.PrankChat.Button"
					android:layout_width="wrap_content"
					android:layout_height="36dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="26dp"
					android:background="@drawable/border_accent"
					android:text="@string/OrderDetailsView_Cancel_Button"
					android:textColor="@color/accent"
					app:MvxBind="Click CancelOrderCommand; Visibility Visibility(IsCancelOrderAvailable)" />
				<RelativeLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="26dp"
					android:layout_marginBottom="26dp">

					<View
						android:id="@+id/separator"
						android:layout_width="match_parent"
						android:layout_height="1dp"
						android:layout_alignParentTop="true"
						android:background="@color/border"
						app:MvxBind="Visibility Visibility(ExecutorSectionViewModel.IsExecutorAvailable)" />

					<TextView
						android:id="@+id/take_the_order_text"
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:layout_below="@+id/separator"
						android:layout_marginTop="16dp"
						android:gravity="center_horizontal"
						android:textColor="@color/inactive"
						android:textSize="12dp"
						android:text="@string/OrderDetailsView_Took_The_Order_Text"
						app:MvxBind="Visibility Visibility(ExecutorSectionViewModel.IsExecutorAvailable)"/>

					<CircleCachedImageView
						android:id="@+id/executor_photo"
						android:layout_width="42dp"
						android:layout_height="42dp"
						android:layout_below="@+id/take_the_order_text"
						android:layout_alignParentLeft="true"
						android:layout_marginTop="15dp"
						app:MvxBind="ImagePath ExecutorSectionViewModel.ExecutorPhotoUrl; PlaceholderText ExecutorSectionViewModel.ExecutorShortName; Visibility Visibility(ExecutorSectionViewModel.IsExecutorAvailable);  Click ExecutorSectionViewModel.OpenExecutorProfileCommand" />

					<TextView
						android:id="@+id/executor_name"
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:layout_below="@+id/take_the_order_text"
						android:layout_marginLeft="16dp"
						android:layout_marginTop="21dp"
						android:layout_toRightOf="@+id/executor_photo"
						android:textColor="@color/applicationBlack"
						android:textSize="14dp"
						app:MvxBind="Text ExecutorSectionViewModel.ExecutorName; Visibility Visibility(ExecutorSectionViewModel.IsExecutorAvailable)"/>

					<TextView
						android:id="@+id/take_the_order_date"
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:layout_below="@+id/executor_name"
						android:layout_marginLeft="16dp"
						android:layout_marginTop="10dp"
						android:layout_toRightOf="@+id/executor_photo"
						android:textColor="@color/description"
						android:textSize="12dp"
						app:MvxBind="Text StartOrderDate; Visibility Visibility(ExecutorSectionViewModel.IsExecutorAvailable)"/>

					<androidx.cardview.widget.CardView
						android:layout_width="match_parent"
						android:layout_height="wrap_content"
						android:layout_below="@+id/executor_photo"
						android:layout_marginTop="25dp"
						app:MvxBind="Click VideoSectionViewModel.ShowFullVideoCommand; Visibility Visibility(VideoSectionViewModel.IsVideoAvailable);"
						app:cardCornerRadius="5dp">

						<FFImageLoading.Cross.MvxCachedImageView
							android:id="@+id/completed_video"
							android:layout_width="match_parent"
							android:layout_height="204dp"
							android:scaleType="fitCenter"
							android:background="@color/applicationBlack"
							app:MvxBind="ImagePath VideoSectionViewModel.VideoPlaceholderUrl" />

						<ImageView
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_gravity="bottom|end"
							android:layout_marginEnd="7dp"
							android:layout_marginBottom="7dp"
							app:srcCompat="@drawable/ic_fullscreen" />
					</androidx.cardview.widget.CardView>

					<androidx.constraintlayout.widget.ConstraintLayout
						android:id="@+id/processing_view"
						android:layout_width="match_parent"
						android:layout_height="204dp"
						android:layout_below="@+id/executor_photo"
						android:layout_marginTop="25dp"
						android:background="@drawable/border_accent_load_video"
						app:MvxBind="Visibility Visibility(VideoSectionViewModel.IsVideoProcessing)">

						<ProgressBar
							style="?android:attr/progressBarStyle"
							android:layout_width="wrap_content"
							android:layout_height="wrap_content"
							android:layout_marginBottom="25dp"
							app:layout_constraintBottom_toTopOf="@+id/processing_text_view"
							app:layout_constraintEnd_toEndOf="parent"
							app:layout_constraintStart_toStartOf="parent" />

						<TextView
							android:id="@+id/processing_text_view"
							android:layout_width="0dp"
							android:layout_height="wrap_content"
							android:layout_marginStart="25dp"
							android:layout_marginEnd="25dp"
							android:layout_marginBottom="49dp"
							android:gravity="center"
							android:maxLines="3"
							android:text="@string/Processing_Video"
							android:textColor="@android:color/white"
							android:textSize="17dp"
							app:layout_constraintBottom_toBottomOf="parent"
							app:layout_constraintEnd_toEndOf="parent"
							app:layout_constraintStart_toStartOf="parent" />
					</androidx.constraintlayout.widget.ConstraintLayout>
				</RelativeLayout>
				<androidx.percentlayout.widget.PercentRelativeLayout
					android:layout_width="match_parent"
					android:layout_height="wrap_content"
					android:layout_marginTop="26dp"
					android:layout_marginBottom="26dp"
					app:MvxBind="Visibility Visibility(VideoSectionViewModel.IsDecideVideoAvailable);">

					<TextView
						android:id="@+id/corresponds_title_text_view"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_alignParentTop="true"
						android:layout_centerHorizontal="true"
						android:text="@string/OrderDetailsView_Corresponds_To_Video_Text"
						android:textColor="@color/applicationBlack"
						android:textSize="14dp"/>

					<PrankChat.Mobile.Droid.Controls.SelectableButton
						android:id="@+id/yes_button"
						style="@style/Theme.PrankChat.Button.SelectableStyle"
						android:layout_width="match_parent"
						android:layout_height="36dp"
						android:layout_below="@+id/corresponds_title_text_view"
						android:layout_marginTop="26dp"
						android:layout_marginRight="10dp"
						android:layout_toLeftOf="@+id/space"
						app:MvxBind="Click YesCommand; ArbitrationValue SelectedArbitration; Text YesText"
						app:layout_widthPercent="40%"
						app:selected_drawable="@drawable/ic_thumbs_up"
						app:type_arbitration="positive"
						app:unselected_drawable="@drawable/ic_accent_thumbs_up" />

					<Space
						android:id="@+id/space"
						android:layout_width="wrap_content"
						android:layout_height="wrap_content"
						android:layout_centerHorizontal="true" />

					<PrankChat.Mobile.Droid.Controls.SelectableButton
						android:id="@+id/no_button"
						style="@style/Theme.PrankChat.Button.SelectableStyle"
						android:layout_width="match_parent"
						android:layout_height="36dp"
						android:layout_below="@+id/corresponds_title_text_view"
						android:layout_marginLeft="10dp"
						android:layout_marginTop="26dp"
						android:layout_toRightOf="@+id/space"
						app:MvxBind="Click NoCommand; ArbitrationValue SelectedArbitration; Text NoText"
						app:layout_widthPercent="40%"
						app:selected_drawable="@drawable/ic_thumbs_down"
						app:type_arbitration="negative"
						app:unselected_drawable="@drawable/ic_accent_thumbs_down" />
				</androidx.percentlayout.widget.PercentRelativeLayout>
				<com.google.android.material.button.MaterialButton
					style="@style/Theme.PrankChat.Button.Accent"
					android:layout_width="wrap_content"
					android:layout_height="36dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="26dp"
					android:text="@string/OrderDetailsView_Accept_Button"
					app:MvxBind="Click AcceptOrderCommand; Visibility Visibility(VideoSectionViewModel.IsDecisionVideoAvailable)" />

				<com.google.android.material.button.MaterialButton
					style="@style/Theme.PrankChat.Button"
					android:layout_width="wrap_content"
					android:layout_height="36dp"
					android:layout_gravity="center_horizontal"
					android:layout_marginTop="10dp"
					android:layout_marginBottom="24dp"
					android:background="@null"
					android:text="@string/OrderDetailsView_Argue_Button"
					android:textColor="@color/accent"
					app:MvxBind="Click ArqueOrderCommand; Visibility Visibility(VideoSectionViewModel.IsDecisionVideoAvailable)" />
			</LinearLayout>
		</ScrollView>
	</mvvmcross.droidx.MvxSwipeRefreshLayout>

	<FrameLayout
		android:layout_width="match_parent"
		android:layout_height="match_parent"
		android:layout_below="@id/action_bar"
		android:background="@color/applicationTransparent"
		app:MvxBind="Visibility Visibility(VideoSectionViewModel.IsBusy)">

		<com.airbnb.lottie.LottieAnimationView
			android:id="@+id/animation_view"
			android:layout_width="wrap_content"
			android:layout_height="wrap_content"
			android:layout_gravity="center"
			app:lottie_autoPlay="true"
			app:lottie_fileName="ripple_animation.json"
			app:lottie_loop="true" />
	</FrameLayout>
	<include
		layout="@layout/uploading_progress_overlay_layout"/>
</RelativeLayout>

